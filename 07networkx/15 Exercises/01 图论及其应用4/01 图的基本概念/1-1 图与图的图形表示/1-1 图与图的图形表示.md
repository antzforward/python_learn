# 1-1 图与图的图形表示   
***   
## 习题 1.1
### 1.1.1 
分别画出下列物各顶点集为V和边集为E的无平行边图B,K,Q,D和G的图形表示，其中
#### （a）$V(B)=\{x_1x_2x_3:x_i \in \{0,1\}\}$,并且若$x,y\in V(B),x=x_1x_2x_3$则$(x,y)\in E(B) \Leftrightarrow y=x_2x_3\alpha,其中\alpha\in\{0,1\};$
![[1-1-1-a.png]]

#### 分析题目
图B的图形表示为一个有向图，顶点为所有3位2进制数组成的三元组，每个顶点有两条出边，分别对应去掉第一个数字后加0或1的情况。

#### (b) $V(K)=\{x_1x_2x_3:x_i \in \{0,1,2\}:x_{i+1}\ne x_i\}$并且若$x,y\in V(K),x=x_1x_2x_3$则，$(x,y)\in E(k)\Leftrightarrow y=x_2x_3\alpha,其中\alpha\in\{0,1,2\}且a\ne x_3$

![[1-1-1-b.png]]
##### 分析题目
图K的图形表示为一个有向图，顶点为所有3位3进制组成的三元组，每个顶点有两条出边，分别对应去掉第一个数字后加上非第三个数字的情况，比如000，出边对应就是001和002这样的。

#### （c）$V(Q)=\{x_1x_2x_3:x_i \in \{0,1\}\}$,并且若$x=x_1x_2x_3,y=y_1y_2y_3 \in V(Q)$,则$xy\in E(Q)\Leftrightarrow |x_1-y_1|+|x_2-y_2|+|x_3-y_3|=1$
![[1-1-1-c.png]]
##### 分析题目
图Q的图形表示为一个有向图，顶点为所有3位2进制组成的三元组，每个顶点有三条边，对应顶点ID刚好与只有1bit位翻转了。
#### （d）V(D)=$\{0,1,\dots,7\}$,E(D)=$\{(i,j):存在s \in\{1,2\},使得j-i\equiv s(mod 8)\}$;
![[1-1-1-d.png]]
##### 分析题目
图D位有向图，顶点ID为$0,1,\dots,7$,两个端点的差取8的模为1，2，根据不加绝对值的取模计算过程，Python接近数学定义：就是
```python
# Python 使用的定义：结果符号与除数一致
a % b = a - b*floor(a/b)
```
当$j>i$时，因为j，i都小于8，所以它们的差也小于8，所以取模就是差的本身。
当$j<i$时，此时差为负数,且|j-i|<8，floor(a/b),b=8,此时就是-1，此时上面式子就等于$8+a$,返回值也是小于8的正整数。表现为起始点ID为7，6，连着0

#### （e）$V(G)=\{0,1,\dots,7\},$$E(G)=\{ij,存在s\in\{1,4\},使得|j-i|\equiv s(mod 8)\}$
![[1-1-1-e.png]]
##### 分析题目
图G为无向图，顶点之间的关系满足ID的差的绝对值mod 8等于1或4。

### 1.1.2 证明
#### (a）若D是简单有向图，则$\varepsilon\le v(v-1)$
已知 D是简单有向图，即没有自环，且任意两个不同顶点之间至多有一条有向边（允许两个不同顶点之间有一对方向相反的边，即允许双向边，但不允许重复边）。

设 v为 D的顶点数，ε为 D的边数。

---

​**​证明​**​：

在简单有向图中，任意两个不同的顶点 u和 w（u=w）之间，边的可能情况为：
1. 没有边；  
2. 有一条 u→w的边；
3. 有一条 w→u的边；
4. 同时有 u→w和 w→u（即双向边）。
因此，对于每一对不同的顶点，它们之间可能的​**​最大​**​边数是 2。
---
顶点对的总数为：从 v个顶点中选 2 个的组合数
$$\binom{v}{2}=\frac{v(v-1)}{2}$$
每对顶点最多贡献 2条边，所以最大可能的边数为
$$\varepsilon _{max}=2\times\binom{v}{2}=2\times \frac{v(v-1)}{2} = v(v-1)$$
---

因此，对任意简单有向图，有
$$\varepsilon \le \varepsilon _{max}=v(v-1)$$


---

​**​结论​**​：
$$\boxed{\varepsilon \le v(v-1)}$$

得证。

#### (b)若G是简单无向图，则$\varepsilon \le \frac{v(v-1)}{2}$
已知 $G$ 是简单无向图，即没有自环，且任意两个不同顶点之间至多有一条边。

设 $v$ 为 $G$ 的顶点数，$\varepsilon$ 为 $G$ 的边数。

---

**证明**：

在简单无向图中，任意两个不同的顶点 $u$ 和 $w$（$u \ne w$）之间，要么有一条边，要么没有边。

因此，对于每一对不同的顶点，它们之间最多有 $1$ 条边。

---

顶点对的总数为：从 $v$ 个顶点中选 $2$ 个的组合数

$$
\binom{v}{2} = \frac{v(v-1)}{2}.
$$

每对顶点最多贡献 $1$ 条边，所以最大可能的边数为

$$
\varepsilon_{\max} = \binom{v}{2} = \frac{v(v-1)}{2}.
$$

---

因此，对任意简单无向图，有

$$
\varepsilon \le \frac{v(v-1)}{2}.
$$

---

**结论**：

$$
\boxed{\varepsilon \le \frac{v(v-1)}{2}}
$$

得证。
### 1.1.3 用$\mathcal{D}_v$和$\mathcal{G}_v$分别表示$v$阶简单有向图集和无向图集证明
#### （a）$|\mathcal{D}_v|=2^{v(v-1)}$
已知 $\mathcal{D}_v$ 是 $v$ 个顶点的简单有向图（无自环，任意两个不同顶点之间至多有一条有向边，但允许双向边）的集合。

---

**证明**：

在 $v$ 个顶点中，有序顶点对 $(u, w)$ 且 $u \ne w$ 的总数为：

$$
v(v-1).
$$

对于每个有序对 $(u, w)$，在简单有向图中，边的可能情况为：

1. 没有从 $u$ 到 $w$ 的边；
2. 有一条从 $u$ 到 $w$ 的边。

因此，每个有序对有 $2$ 种选择（有边或无边）。

---

由于这些选择是相互独立的，所以总的简单有向图个数为：

$$
|\mathcal{D}_v| = 2^{v(v-1)}.
$$

---

**结论**：

$$
\boxed{|\mathcal{D}_v|=2^{v(v-1)}}
$$

得证。
#### (b) $|\mathcal{G}_v|=2^{\frac{v(v-1)}{2}}$
已知 $\mathcal{G}_v$ 是 $v$ 个顶点的简单无向图（无自环，任意两个不同顶点之间至多有一条边）的集合。

---

**证明**：

在 $v$ 个顶点中，无序顶点对 $\{u, w\}$ 且 $u \ne w$ 的总数为：

$$
\binom{v}{2} = \frac{v(v-1)}{2}.
$$

对于每个无序对 $\{u, w\}$，在简单无向图中，边的可能情况为：

1. 没有边；
2. 有一条边。

因此，每个无序对有 $2$ 种选择（有边或无边）。

---

由于这些选择是相互独立的，所以总的简单无向图个数为：

$$
|\mathcal{G}_v| = 2^{\frac{v(v-1)}{2}}.
$$

---

**结论**：

$$
\boxed{|\mathcal{G}_v|=2^{\frac{v(v-1)}{2}}}
$$

得证。
### 1.1.4 证明：无向图G有$2^{\varepsilon(G)}$个定向图
已知 $G$ 是一个无向图，$\varepsilon(G)$ 是它的边数。  
一个定向图是指将 $G$ 的每条无向边指定一个方向得到的有向图。

---

**证明**：

设 $G$ 有 $\varepsilon(G)$ 条边，记为 $e_1, e_2, \dots, e_{\varepsilon}$。  
每条无向边 $e_i = \{u, w\}$ 在定向时有两种选择：

1. 定向为 $u \to w$；
2. 定向为 $w \to u$。

因此，每条边有 $2$ 种定向方式。

---

由于各条边的定向选择是相互独立的，所以总的定向方式数为：

$$
2^{\varepsilon(G)}.
$$

每一种定向方式对应 $G$ 的一个不同的定向图（即使得到的两个有向图可能同构，但作为“标号图的定向”是不同的，因为这里 $G$ 的顶点和边是固定的）。

---

**结论**：

$$
\boxed{2^{\varepsilon(G)}}
$$

得证。

### 1.1.5 用$\mathcal{D}(v,\varepsilon)和\mathcal{G}(v,\varepsilon)$分别表示阶数为$v$且边数为$\varepsilon$的简单有向图集和简单无向图集。证明
#### （a）$\mathcal{D}(v,\varepsilon)=\binom{v(v-1)}{\varepsilon}$

已知 $\mathcal{D}(v,\varepsilon)$ 是 $v$ 个顶点、$\varepsilon$ 条边的简单有向图的集合（无自环，任意两个不同顶点之间至多有一条有向边，但允许双向边）。

---

**证明**：

在简单有向图中，可能存在的有向边是所有的有序顶点对 $(u, w)$，其中 $u \ne w$。  
这样的有序对总数为：

$$
v(v-1).
$$

---

要构造一个边数为 $\varepsilon$ 的简单有向图，只需从这 $v(v-1)$ 个可能的有向边中选出 $\varepsilon$ 条边即可。不同的选择对应不同的图（因为顶点是标号的，边是确定的）。

因此，$\mathcal{D}(v,\varepsilon)$ 的大小等于从 $v(v-1)$ 个可能边中选 $\varepsilon$ 条边的组合数：

$$
|\mathcal{D}(v,\varepsilon)| = \binom{v(v-1)}{\varepsilon}.
$$

---

**结论**：

$$
\boxed{|\mathcal{D}(v,\varepsilon)|=\binom{v(v-1)}{\varepsilon}}
$$

得证。
#### (b) $|\mathcal{G}|(v,\varepsilon)=\binom{\frac{v(v-1)}{2}}{\varepsilon}$
已知 $\mathcal{G}(v,\varepsilon)$ 是 $v$ 个顶点、$\varepsilon$ 条边的简单无向图的集合（无自环，任意两个不同顶点之间至多有一条边）。

---

**证明**：

在简单无向图中，可能存在的边是所有的无序顶点对 $\{u, w\}$，其中 $u \ne w$。  
这样的无序对总数为：

$$
\binom{v}{2} = \frac{v(v-1)}{2}.
$$

---

要构造一个边数为 $\varepsilon$ 的简单无向图，只需从这 $\frac{v(v-1)}{2}$ 个可能的边中选出 $\varepsilon$ 条边即可。不同的选择对应不同的图（顶点是标号的，边是确定的）。

因此，$\mathcal{G}(v,\varepsilon)$ 的大小等于从 $\frac{v(v-1)}{2}$ 个可能边中选 $\varepsilon$ 条边的组合数：

$$
|\mathcal{G}(v,\varepsilon)| = \binom{\frac{v(v-1)}{2}}{\varepsilon}.
$$

---

**结论**：

$$
\boxed{|\mathcal{G}(v,\varepsilon)|=\binom{\frac{v(v-1)}{2}}{\varepsilon}}
$$

得证。

### 1.1.6 用图论语言证明：设平面上有$2n+1$个点，如果任何三个点中至少有两个点距离小于1，则至少有$n+1$个点落在同一个单位圆内。
我们先将题意转化为图论问题。

---

**1. 建模**

设 $S$ 是平面上 $2n+1$ 个点的集合，条件：任何三个点中至少有两个点距离小于 1。

定义无向图 $G$：顶点集 $V = S$。  
两点 $u, v$ 之间有边当且仅当它们的距离小于 1。

条件“任何三个点中至少有两个点距离小于 1”等价于：$G$ 中没有大小为 3 的独立集（independent set of size 3）。  
因为如果有三个点两两距离都 $\ge 1$，就违反了条件。

---

**2. 图论结论**

已知 $|V| = 2n+1$，且 $\alpha(G) \le 2$（独立数 $\alpha(G)$ 是最大独立集的大小）。

由 Turán 定理的对偶形式（或者直接由 Ramsey 数 $R(3, m)$ 的性质），但这里我们用更直接的推理：

补图 $\overline{G}$ 中，边表示原图中距离 $\ge 1$。  
原图中没有大小为 3 的独立集 $\iff$ 补图中没有三角形（即 $\overline{G}$ 是 $K_3$-free）。

---

**3. 用 Turán 定理**

Turán 定理：$K_{r+1}$-free 图的最大边数在 $n$ 个顶点上是 Turán 图 $T(n, r)$ 的边数。

这里 $\overline{G}$ 是 $K_3$-free，即 $r=2$，所以 $\overline{G}$ 至多有 $\left\lfloor \frac{(2n+1)^2}{4} \right\rfloor$ 条边。

但我们要的不是边数，而是原图 $G$ 的性质。换一种方式：

---

**4. 用反证法 + 鸽笼原理**

假设结论不成立：**不存在 $n+1$ 个点落在同一个单位圆内**。

“落在同一个单位圆内”意味着可以找到一个单位圆覆盖它们。但题中“单位圆”是半径为 1 的圆，不一定以给定点为中心。不过这里“单位圆内”通常理解为存在某个单位圆包含这些点。

但更自然的理解是：以每个点 $P$ 为圆心作单位圆（半径 1 的圆），看这个圆包含 $S$ 中多少个点（包括 $P$ 自身）。

---

**5. 关键转化**

对每个点 $x \in S$，定义 $N(x) = \{ y \in S \mid d(x,y) < 1 \}$（在 $G$ 中是 $x$ 的邻点集合，包括 $x$ 自身吗？一般邻点不包括自身，但这里我们数“落在以 $x$ 为圆心的单位圆盘内的点数”，包括 $x$）。

设 $f(x) =$ 以 $x$ 为圆心、半径为 1 的闭圆盘包含的 $S$ 中点数目。

我们要证：存在 $x$ 使得 $f(x) \ge n+1$。

---

**6. 反证法**

假设对所有 $x \in S$，$f(x) \le n$，即包含 $x$ 在内至多 $n$ 个点与 $x$ 距离 $\le 1$（其实 $<1$ 是边，$=1$ 时不是边，但闭圆盘时 $=1$ 也算在内。不过条件中是“小于 1”才有边，所以 $=1$ 的情况可忽略或调整不影响）。

更精确地，我们考虑开圆盘：$B(x)$ 是以 $x$ 为心半径 1 的开圆盘，$f(x) = |\{ y \in S : d(x,y) < 1 \}|$（包括 $x$ 自身，因为 $d(x,x)=0<1$，所以 $x \in B(x)$）。

假设 $\forall x \in S$，$f(x) \le n$。

那么对每个 $x$，$S \setminus B(x)$ 中的点数 $\ge (2n+1) - n = n+1$。

---

**7. 导出矛盾**

取点 $a \in S$。$B(a)$ 中至多 $n$ 个点（包括 $a$），所以 $S \setminus B(a)$ 至少有 $n+1$ 个点。

在 $S \setminus B(a)$ 中任取一点 $b$，则 $d(a,b) \ge 1$。

同理，$B(b)$ 中至多 $n$ 个点。$S \setminus B(b)$ 至少有 $n+1$ 个点。

注意 $a \in S \setminus B(b)$ 吗？$d(b,a) \ge 1$，所以 $a \notin B(b)$，对。

现在 $|S \setminus B(a)| \ge n+1$，$|S \setminus B(b)| \ge n+1$。

$S$ 总点数 $2n+1$，用容斥原理：

$$
|S \setminus (B(a) \cup B(b))| = |S| - |B(a)| - |B(b)| + |B(a) \cap B(b)|.
$$

但 $|B(a)| \le n$，$|B(b)| \le n$，所以

$$
|S \setminus (B(a) \cup B(b))| \ge (2n+1) - n - n + |B(a) \cap B(b)| = 1 + |B(a) \cap B(b)|.
$$

---

**8. 找第三个点**

$S \setminus (B(a) \cup B(b))$ 中的点 $c$ 满足：$d(a,c) \ge 1$ 且 $d(b,c) \ge 1$。

由条件“任何三个点中至少有两个点距离小于 1”，应用于 $\{a,b,c\}$，必须至少有一对距离 $<1$。

但 $d(a,b) \ge 1$，$d(a,c) \ge 1$，$d(b,c) \ge 1$，矛盾。

---

**9. 结论**

所以假设错误，必存在 $x \in S$ 使得 $f(x) \ge n+1$，即以 $x$ 为圆心单位圆内至少有 $n+1$ 个点（包括 $x$）。

---

**最终结论**：

$$
\boxed{n+1}
$$

得证。

### 1.1.7 九位数学家在一次国际会议上相遇，他们任意三人中至少有两人会说同一种语言。证明：如果每位数学家最多只会说三种语言，那么至少有三位数学家能用同一种语言交流。

**1. 建立模型**

设 9 位数学家的集合为 $V$，$|V|=9$。

定义图 $G$：顶点是数学家。  
在 $G$ 中，两点 $u, v$ 之间有边当且仅当 $u$ 和 $v$ 能**用同一种语言交流**（即他们至少有一门共同语言）。

条件“任意三人中至少有两人会说同一种语言”意味着：$G$ 中不存在大小为 3 的独立集，即 $\alpha(G) \le 2$。

---

**2. 补图性质**

补图 $\overline{G}$ 中，边表示两人没有共同语言。

原图无 $3$ 个点的独立集 $\iff$ $\overline{G}$ 中无三角形（$K_3$-free）。

---

**3. Turán 定理**

$N=9$，$r=2$（$K_3$-free），则 $\overline{G}$ 的最大边数在完全二部图 $K_{4,5}$ 时取得：

$$
e_{\max}(\overline{G}) = 4 \times 5 = 20.
$$

所以

$$
e(\overline{G}) \le 20.
$$

---

**4. 原图边数**

完全图 $K_9$ 的边数：

$$
\binom{9}{2} = 36.
$$

所以

$$
e(G) = 36 - e(\overline{G}) \ge 36 - 20 = 16.
$$

---

**5. 语言限制的利用**

每位数学家最多会说 3 种语言。  
对一种语言，会说这种语言的人构成 $G$ 的一个团（clique），因为这些人两两能用该语言交流。

设数学家 $v$ 会的语言为 $L_1, L_2, L_3$（可能少于 3 种，但最多 3 种）。  
$v$ 的邻点（在 $G$ 中）必须至少与 $v$ 共享一门语言，因此 $N_G(v)$ 可划分为至多 3 个团（按语言划分），每个团是会说该语言的人的集合（包括 $v$ 自己，但 $v$ 不算自己的邻点）。

更准确地说：$v$ 的度数 $\deg_G(v)$ 等于 $\sum_{i=1}^k (|C_i|-1)$，其中 $C_i$ 是包含 $v$ 的、会说语言 $i$ 的数学家集合（$k \le 3$），且 $C_i$ 是 $G$ 的团。

---

**6. 关键：团的大小限制**

设 $v$ 的三种语言对应的团大小为 $a, b, c$（均 $\ge 1$，且 $a+b+c-2 \le 9$ 等限制不重要），且 $a,b,c \ge 1$，$a+b+c \le 9$。

$v$ 的度数：

$$
\deg_G(v) = (a-1) + (b-1) + (c-1) = a+b+c - 3.
$$

因为每人最多会 3 种语言，所以 $k \le 3$，这里 $k=3$ 时度数最大可能，但 $a+b+c$ 最大是多少？  
$v$ 在每种语言中，该语言对应的团大小至少为 1（只有 $v$ 自己），但若某语言只有 $v$ 一人会说，则这个语言对度数无贡献（$a=1$ 时 $a-1=0$）。

---

**7. 反证法**

假设结论不成立：**不存在三位数学家能两两用同一种语言交流**，即 $G$ 中最大团的点数 $< 3$，即 $G$ 中无三角形（$G$ 是 $K_3$-free）。

但已知 $\alpha(G) \le 2$（原条件），且若 $G$ 也是 $K_3$-free，则 $G$ 是二分图（因为不含奇环？不一定，但 $K_3$-free 且 $\alpha(G) \le 2$ 时，$G$ 的补图 $\overline{G}$ 的性质会怎样？我们换角度。）

---

**8. 用 Ramsey 数推理**

条件 $\alpha(G) \le 2$ 且 $\omega(G) \le 2$（无三角形）意味着 $G$ 的顶点数 $9$ 必须满足 $R(3,3) > 9$？但 $R(3,3)=6$，所以 9 个顶点的图若 $\alpha(G) \le 2$，则必有 $\omega(G) \ge 3$（即存在三角形）。

这是关键：由 Ramsey 理论，$R(3,3)=6$，所以任意 6 个顶点的图必有 $K_3$ 或独立集大小为 3。  
我们有 9 个顶点且无独立集大小为 3，则 $G$ 必须包含 $K_3$。

所以 $G$ 中一定有三角形，即存在三位数学家两两有共同语言。

---

**9. 结论**

因此，至少有三位数学家能两两用同一种语言交流。

$$
\boxed{3}
$$

得证。

### 1.1.8 某会议有n($n\ge2$)个人参加，其中每两个不认识的人中恰好有两个公共的熟人，而每两个相识的人都没有公共的熟人。
#### （a）证明：每个与会者恰有相同个数的熟人
#### （b）已知每个与会者都有k($k\ge 1$)个熟人，求与会者人数。

---
##### 1. 建立图模型

设 $n$ 个人为图的顶点集 $V$，$|V|=n$。

定义图 $G$：两点 $u,v$ 有边当且仅当 $u$ 与 $v$ **相识**（熟人关系）。

条件翻译：

1. **每两个不认识的人**：即 $uv \notin E(G)$，他们恰有两个公共的熟人。  
   即：$d_G(u,v)=2$ 时（$d_G$ 是图上距离），公共邻居数 $|\Gamma(u) \cap \Gamma(v)| = 2$。

2. **每两个相识的人**：即 $uv \in E(G)$，他们没有公共的熟人。  
   即：$|\Gamma(u) \cap \Gamma(v)| = 0$。

---

##### 2. 图的性质

- 条件 2 说明 $G$ 是**三角形-free**（因为如果 $u\sim v, v\sim w, u\sim w$ 则 $u,w$ 有公共邻居 $v$，但 $u,w$ 相识，矛盾）。
- 条件 1 说明 $G$ 的补图 $\overline{G}$ 中，任意两个非邻点（在 $\overline{G}$ 中相邻，即在 $G$ 中不相识）有 2 个公共邻居。

这提示 $G$ 可能是某个强正则图。

---

##### 3. 强正则图参数

设 $G$ 是强正则图 $\operatorname{srg}(n, k, \lambda, \mu)$，其中：
- $n$：顶点数
- $k$：每个顶点的度数（我们要证 $k$ 常数）
- $\lambda$：相邻两顶点的公共邻居数
- $\mu$：不相邻两顶点的公共邻居数

由条件：
- 相邻顶点公共邻居数 $\lambda = 0$（相识的人无公共熟人）
- 不相邻顶点公共邻居数 $\mu = 2$（不认识的两人恰有 2 个公共熟人）

所以 $G$ 是 $\operatorname{srg}(n, k, 0, 2)$。

---

##### 4. 强正则图性质

强正则图满足方程（对每个顶点 $v$，数 $v$ 到其他顶点的二步关系）：

- 每个顶点度数为 $k$
- 与 $v$ 不相邻的顶点数 = $n-1-k$
- 对 $v$ 的任一非邻点 $u$，$u$ 与 $v$ 有 $\mu=2$ 个公共邻居

另外，强正则图参数满足：
$$
k(k - \lambda - 1) = (n - k - 1)\mu
$$
代入 $\lambda=0, \mu=2$：
$$
k(k - 0 - 1) = (n - k - 1) \cdot 2
$$
$$
k(k - 1) = 2(n - k - 1)
$$
$$
k^2 - k = 2n - 2k - 2
$$
$$
k^2 + k + 2 = 2n
$$
$$
n = \frac{k^2 + k + 2}{2}
$$
这是 (b) 的答案。

---

##### 5. 证明 (a) 每个与会者恰有相同个数的熟人

在强正则图定义中，$k$ 是常数，所以每个顶点度数相同。  
但我们要从条件直接推出正则性，不直接假定强正则图。

---

**直接证明 (a)：**

取顶点 $u$，设 $\deg(u) = d_u$。

对任意 $v \neq u$：
- 若 $v \sim u$，则公共邻居数 0。
- 若 $v \nsim u$，则公共邻居数 2。

固定 $u$，考虑 $v \nsim u$ 的情况：公共邻居 $w$ 满足 $w \sim u$ 且 $w \sim v$。  
对每个这样的 $v$，有 2 个这样的 $w$。

数“$u$ 的邻居与 $v$ 相邻”这种边 $(w,v)$ 的数量（$w \in N(u)$，$v \notin N(u) \cup \{u\}$）：

一方面，对固定 $u$，$v$ 取遍 $n-1-d_u$ 个 $u$ 的非邻点（$v\neq u$），每个 $v$ 对应 2 条边到 $N(u)$，所以总数 $= 2(n-1-d_u)$。

另一方面，对每个 $w \in N(u)$，$w$ 与 $u$ 无公共邻居（因 $u\sim w$，所以 $N(u)\cap N(w) \ni ?$ 其实 $u,w$ 相邻，条件说他们公共邻居数 0，所以 $w$ 的邻居与 $u$ 的邻居无交（除 $u,w$ 相邻外）？要小心：$N(u)$ 中除 $w$ 外，$w$ 与 $N(u)$ 中其他点不相邻（否则 $u$ 与那个点有公共邻居 $w$，矛盾））。所以 $w$ 的邻居全在 $V \setminus (N(u) \cup \{u\})$ 加上 $u$ 本身。

更清楚：$w$ 与 $u$ 相邻，所以 $w$ 不能与 $N(u) \setminus \{w\}$ 中任何点相邻（否则 $\lambda \neq 0$）。所以 $w$ 的邻居集 $N(w) \subset \{u\} \cup [V \setminus (N(u) \cup \{u\})]$。

所以 $w$ 在 $V \setminus (N(u) \cup \{u\})$ 中的邻居数 = $\deg(w) - 1$（因为 $u$ 是 $w$ 的 1 个邻居）。

那么，从 $u$ 出发看：边从 $N(u)$ 到 $V \setminus (N(u) \cup \{u\})$ 的总数 = $\sum_{w \in N(u)} [\deg(w) - 1]$。

这个数等于上面数的 $2(n-1-d_u)$。

所以：
$$
\sum_{w \in N(u)} (\deg(w) - 1) = 2(n-1-d_u).
$$

左边 = $\left(\sum_{w \in N(u)} \deg(w)\right) - d_u$。

---

现在，对任意顶点 $x$，考虑 $\sum_{y \in N(x)} \deg(y)$。我们想证明 $\deg(x)$ 是常数。

用另一种标准图论计数：数长度为 2 的路径数。

每个顶点 $x$，数 $P(x) = \#\{u-v-w \mid v=x\}$ 中 $u,w$ 不同且 $u,w$ 与 $x$ 的关系固定。

其实更简单：用“所有顶点度数相同”的经典论证：取 $u,z$ 不相邻，则它们有 $\mu=2$ 个公共邻居，所以 $\deg(u)=\deg(z)$？ 不直接，但可以用强正则图的标准特征：若 $\mu>0$ 且图连通，则正则。

先证连通：若 $u,z$ 距离 2，则 $\mu=2$ 保证连通。若 $u,z$ 距离 >2？ 假设存在距离 3 的点 $u,t$，则 $u$ 和 $t$ 的公共邻居？ 距离 3 不可能有公共邻居（否则距离 2），所以 $\mu=0$，矛盾条件 $\mu=2$。所以直径=2。

直径 2 且 $\mu$ 常数，则对任意 $u,z$ 非邻，有公共邻居，所以可一步步推度数相等：取 $u,v$ 相邻，$v,w$ 相邻，$u,w$ 可能相邻？不行，$u,w$ 相邻则 $\lambda\neq 0$。所以 $u,w$ 不相邻，则 $\mu=2$ 固定，可推出正则（标准结论：若简单图直径 2 且 $\mu$ 常数，则正则）。

实际上已知结论：若任意两个非邻点有相同正数目的公共邻居，且任意两个邻点无公共邻居，则图是强正则的，从而是正则的（除 trivial case）。所以每个顶点度数为 $k$。

所以 (a) 得证。

---

##### 6. 解 (b)

由 (a)，每个与会者熟人个数 = $k$。

由前面推导：
$$
n = \frac{k^2 + k + 2}{2}.
$$

且 $k \ge 1$，$n \ge 2$ 自动满足。

---

**最终答案：**

(a) 每个与会者恰有 $k$ 个熟人（常数）。  
(b) 与会者人数 $n = \dfrac{k^2 + k + 2}{2}$。

$$
\boxed{n = \frac{k^{2} + k + 2}{2}}
$$

### 1.1.9 概念辨析：判断以下说法是否正确，并说明理由
#### a）一个图可以有空的顶点集
​​不允许空的顶点集​​，所以 (a) 说法 ​​错误​​。
#### b）空图一定是简单图
空图（empty graph）通常指边集为空的图 (V,∅)。
简单图要求无环、无重边。空图显然满足，所以 ​​正确​​。
#### c）简单图中不允许存在环
简单图定义：无环（自环）且无重边。
所以不允许环，​​正确​​。
#### d）在有向图中，$(u,v)$和$(v,u)$总是对称边
在标准图论中，“对称边”通常指对于两个不同的顶点u和v（即$u \ne v$），方向相反的两条有向边(u,v)和(v,u)。但即使在这种情况下，有向图中并不总是同时存在这两条边；可能只有一条边存在，因此“总是”一词是错误的。
#### e）定向图的基础图一定是简单图
这个和书上的示例有冲突，比如书上1.4，a是无向图G，c是a的定向图H，可以看到G，H都有环，有环就不是普通图了。从《图论及其应用第四版-徐俊明著》的这本书来看，这个是错误的。

### 1.1.10 计算与绘图
#### a）画出所有不同构的4个顶点，3条边的简单无向图。
应该是三角形的，爪子形的，框形的，对应的是$K_3 + K_1$，$K_{1,3}$，$P_4$
![[1-1-10-a.png]]
#### b）一个具有n个顶点的简单无向图，其最大可能的边数是多少
$$\boxed{\varepsilon \le \frac{v(v-1)}{2}}$$
#### c) 一个具有n个顶点的简单有向图，其最大可能的边数是多少
$$\boxed{\varepsilon \le v(v-1)}$$

### 1.1.11 证明题，用图论语言
#### a）证明：在任意一场至少有2个人的聚会上，总有两个人认识相同数量的朋友。（假设“认识”是相互的，且每个人不认识自己。提示：考虑图的度序列。）
这个题目也用到了1-3中间的顶点度的概念。鸽巢原理用得很多啊。
**第一步：建立图模型**

将聚会中的每个人视为图的一个顶点，记顶点集为 $V$，且 $|V| = n \geq 2$。若两个人互相认识，则在对应的顶点之间连一条边。由于“认识”是相互的，该图是无向图；且每个人不认识自己，故图中无自环。因此，得到的图 $G$ 是一个简单无向图。

---

**第二步：分析度数可能取值**
在 $G$ 中，每个顶点的度数（即该人认识的朋友数）可能的取值为：
$$
0, 1, 2, \dots, n-1
$$
共有 $n$ 种可能的度数。

然而，若存在一个度数为 0 的顶点（即有人不认识任何人），则不可能存在度数为 $n-1$ 的顶点（即有人认识其他所有人），因为度数为 $n-1$ 的顶点必须与度数为 0 的顶点相连，矛盾。同理，若存在度数为 $n-1$ 的顶点，则不可能存在度数为 0 的顶点。

因此，实际可能出现的度数最多只有 $n-1$ 种不同的值。

---

**第三步：应用鸽巢原理**

图 $G$ 有 $n$ 个顶点，但最多只有 $n-1$ 种不同的度数。由鸽巢原理，至少有两个顶点具有相同的度数。

换言之，聚会上至少有两个人的朋友数量相同。

---

**第四步：结论**

综上所述，在任意一场至少有 2 个人的聚会上，总存在两个人认识相同数量的朋友。

$$
\boxed{2}
$$
#### b) 尝试说明为什么5个人不足以保证必然出现3人互相认识或3人互不认识（即 $R(3,3)>5$）。你可以尝试构造一个 $K_5$ 的红蓝染色方案，使得其中​**​不存在​**​同色三角形。
![[1-1-11-b.png]]
为了说明5个人不足以保证必然出现3人互相认识或3人互不认识（即 $R(3,3) > 5$），我们可以构造一个 $K_5$ 的红蓝染色方案，其中不存在同色三角形（即没有三个顶点两两同色）。

 **染色方案**
- 将5个人编号为0、1、2、3、4（模5）。
- 对于任意两个人 $i$ 和 $j$，计算绝对差 $|i-j|$ 模5的最小剩余（即 $\min(|i-j|, 5 - |i-j|)$）。
- 如果最小剩余为1（即 $|i-j| \equiv 1$ 或 $4 \pmod{5}$)，则染边为红色（表示互相认识）。
- 如果最小剩余为2（即 $|i-j| \equiv 2$ 或 $3 \pmod{5}$)，则染边为蓝色（表示互不认识）。

**方案验证**
在这种染色下：
- 红边对应顶点之间距离为1或4（模5），形成一個5-循环（例如，0-1、1-2、2-3、3-4、4-0）。
- 蓝边对应顶点之间距离为2或3（模5），形成五条“对角线”（例如，0-2、0-3、1-3、1-4、2-4）。

检查所有可能的三角形（三个顶点组合），均无同色三角形：
- 三角形(0,1,2)：边0-1红、1-2红、0-2蓝 → 混合颜色。
- 三角形(0,1,3)：边0-1红、1-3蓝、0-3蓝 → 混合颜色。
- 三角形(0,1,4)：边0-1红、1-4蓝、0-4红 → 混合颜色。
- 三角形(0,2,3)：边0-2蓝、2-3红、0-3蓝 → 混合颜色。
- 三角形(0,2,4)：边0-2蓝、2-4蓝、0-4红 → 混合颜色。
- 三角形(0,3,4)：边0-3蓝、3-4红、0-4红 → 混合颜色。
- 三角形(1,2,3)：边1-2红、2-3红、1-3蓝 → 混合颜色。
- 三角形(1,2,4)：边1-2红、2-4蓝、1-4蓝 → 混合颜色。
- 三角形(1,3,4)：边1-3蓝、3-4红、1-4蓝 → 混合颜色。
- 三角形(2,3,4)：边2-3红、3-4红、2-4蓝 → 混合颜色。

所有三角形均包含两种颜色，因此没有红色三角形（三人互相认识）也没有蓝色三角形（三人互不认识）。

**结论**
由于存在一种染色方案使得 $K_5$ 中无同色三角形，因此5个人不足以保证必然出现3人互相认识或3人互不认识，即 $R(3,3) > 5$。这验证了Ramsey数 $R(3,3) = 6$ 的正确性。

$$
\boxed{5}
$$


### 1.1.12 编程题（结合networkx）
- 如何在NetworkX中表示以下图？请写出创建代码。
        1. 一个具有4个顶点 `[1,2,3,4]` 和边 `[(1,2), (2,3), (3,4), (4,1)]` 的​**​无向图​**​（环状）。
        2. 一个具有3个顶点 `['A', 'B', 'C']` 和边 `[('A', 'B'), ('B', 'C'), ('C', 'A')]` 的​**​有向图​**​（环状）。
        3. 在2中的有向图基础上，添加一条从 `'A'` 指向 `'C'` 的边。此时图中是否有重边？是否有对称边？

```python
import networkx as nx
import matplotlib.pyplot as plt
# 解决中文显示问题
plt.rcParams['font.sans-serif'] = ['SimHei']  # 使用黑体
plt.rcParams['axes.unicode_minus'] = False  # 正常显示负号

# 1. 创建具有4个顶点的无向图（环状）
G1 = nx.Graph()
G1.add_nodes_from([1, 2, 3, 4])
G1.add_edges_from([(1, 2), (2, 3), (3, 4), (4, 1)])

print("图1 - 无向环状图:")
print("顶点:", list(G1.nodes()))
print("边:", list(G1.edges()))
print("是否有重边:", G1.has_edge(1, 2) and G1.has_edge(2, 1))  # 无向图不会重复计算
print()

# 可视化图1
plt.figure(figsize=(8, 6))
plt.subplot(2, 2, 1)
pos1 = nx.circular_layout(G1)
nx.draw(G1, pos1, with_labels=True, node_color='lightblue',
        node_size=500, font_size=16, font_weight='bold')
plt.title("无向环状图")

# 2. 创建具有3个顶点的有向图（环状）
G2 = nx.DiGraph()
G2.add_nodes_from(['A', 'B', 'C'])
G2.add_edges_from([('A', 'B'), ('B', 'C'), ('C', 'A')])

print("图2 - 有向环状图:")
print("顶点:", list(G2.nodes()))
print("边:", list(G2.edges()))
print()

# 可视化图2
plt.subplot(2, 2, 2)
pos2 = nx.circular_layout(G2)
nx.draw(G2, pos2, with_labels=True, node_color='lightgreen',
        node_size=500, font_size=16, font_weight='bold',
        arrows=True, arrowsize=20)
plt.title("有向环状图")

# 3. 在图2基础上添加一条从'A'指向'C'的边
G3 = G2.copy()  # 复制图2
G3.add_edge('A', 'C')  # 添加边 A->C

print("图3 - 添加边A->C后的有向图:")
print("顶点:", list(G3.nodes()))
print("边:", list(G3.edges()))

# 检查是否有重边
# 有向图中，重边是指相同的顶点对和方向
has_duplicate = G3.has_edge('A', 'C') and ('A', 'C') in [('A', 'C')]  # 实际上我们刚刚添加了一条
# 更准确地说，检查是否有多条从A到C的边
# NetworkX的DiGraph不允许重边，所以添加已存在的边不会有影响
print("是否有重边:", len([e for e in G3.edges() if e == ('A', 'C')]) > 1)

# 检查是否有对称边
# 对称边是指一对方向相反的边，如(A,C)和(C,A)
has_symmetric = G3.has_edge('A', 'C') and G3.has_edge('C', 'A')
print("是否有对称边:", has_symmetric)
print()

# 可视化图3
plt.subplot(2, 2, 3)
pos3 = nx.circular_layout(G3)
nx.draw(G3, pos3, with_labels=True, node_color='lightcoral',
        node_size=500, font_size=16, font_weight='bold',
        arrows=True, arrowsize=20)
plt.title("添加边A->C后的有向图")

plt.tight_layout()
#plt.show()
plt.savefig('1-1-12.png', bbox_inches='tight')

# 更详细地分析图3
print("图3的详细分析:")
print("所有边:", list(G3.edges()))
print("从A出发的边:", list(G3.out_edges('A')))
print("指向A的边:", list(G3.in_edges('A')))
print("从C出发的边:", list(G3.out_edges('C')))
print("指向C的边:", list(G3.in_edges('C')))
```

![[1-1-12.png]]

输出内容
```text
图1 - 无向环状图:
顶点: [1, 2, 3, 4]
边: [(1, 2), (1, 4), (2, 3), (3, 4)]
是否有重边: True

图2 - 有向环状图:
顶点: ['A', 'B', 'C']
边: [('A', 'B'), ('B', 'C'), ('C', 'A')]

图3 - 添加边A->C后的有向图:
顶点: ['A', 'B', 'C']
边: [('A', 'B'), ('A', 'C'), ('B', 'C'), ('C', 'A')]
是否有重边: False
是否有对称边: True

图3的详细分析:
所有边: [('A', 'B'), ('A', 'C'), ('B', 'C'), ('C', 'A')]
从A出发的边: [('A', 'B'), ('A', 'C')]
指向A的边: [('C', 'A')]
从C出发的边: [('C', 'A')]
指向C的边: [('B', 'C'), ('A', 'C')]
```